<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
    <title>Comp20: Maurauder's Map</title>
	<link rel="stylesheet" href="mapstylesheet.css" type="text/css"/>
	<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js"></script>
	<script type="text/javascript">
		var map;
		var latlng;

		function initialize() {
			latlng = new google.maps.LatLng(42.4069, -71.1198);

			myOptions = {
				center: latlng,
				zoom: 17
			};
			map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
		}

		if(navigator.geolocation) {
    		navigator.geolocation.getCurrentPosition(getGeoLoc);
    		map.panTo(latlng);
	
			// Create a marker
			marker = new google.maps.Marker({
				position: latlng,
				title: "Here I Am!"
			});
			marker.setMap(map);
  		} else {
    		alert("Geolocation is not supported by your web browser.  What a shame!");
  		}

  		function getGeoLoc(position) {
  			var pos = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);

      		var infowindow = new google.maps.InfoWindow({
      	 			map: map,
        			position: pos,
        			content: 'Location found using HTML5.'
     		 });

     		map.setCenter(pos);
  		}

		google.maps.event.addDomListener(window, 'load', initialize); //loads the map after page loads
	</script>
</head>
<body onload="initialize()">
	<div id="map_canvas"></div>
</body>
</html>